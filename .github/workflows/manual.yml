name: health cheaks
on:
  push:
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v2
      with:
        fetch-depth: 0
    - run: gem install bundler
    - run: bundle install --jobs=3 --retry=3
    - name: SonarCloud Scan
      env:
        GITHUB_TOKEN: "${{ secrets.GITHUB_TOKEN }}"
        SONAR_TOKEN: "${{ secrets.SONAR_TOKEN }}"
      run: |
        sonar-scanner/`
        #WARNING: projectKey is a required field, ensure it is configured here or in your project file
        /k:'<<INSERT KEY HERE>>'/`
        /d:sonar.organization='begonaguereca'/`
        /d:sonar.host.url='${{ secrets.SONAR_URL }}'/`
        /d:sonar.login=${{ env.SONAR_TOKEN }}
